(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(36).concat([function(e,t,a){e.exports=a(90)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(29),s=a.n(o),l=a(30),i=a(31),c=a(1),m=a(2),u=a(4),g=a(3),p=a(5),h=a(93),d=a(94),f=a(95),y=a(92),v=(a(41),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-expand",role:"navigation"},n.a.createElement(y.a,{to:"/"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement("img",{className:"navlogo",src:"images/KeepItTogetherLogo.png",alt:"logo"}))),n.a.createElement("div",{className:"navbar-nav mr-auto"},this.props.isAuthenticated?n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{className:"nav-item nav-link",to:"/addgoal"},"Add Goal"),n.a.createElement(y.a,{className:"nav-item nav-link",to:"/manage"},"Manage Goals"),n.a.createElement(y.a,{className:"nav-item nav-link",to:"/progress"},"Progress"),n.a.createElement("a",{className:"nav-item nav-link",href:"https://medium.com/better-humans",target:"_blank",rel:"noopener noreferrer"},"Blog"),n.a.createElement("span",{className:"loggedInAs"},"Let's do this ",this.props.firstName,"!"),n.a.createElement("button",{type:"button",className:"btn navbutton btn-logout",id:"btn-logout","redirect-location":"/"},"Log Out")):n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{type:"button",className:"btn navbutton",onClick:this.props.handleLogin},"Log In"))))}}]),t}(n.a.Component)),k=(a(44),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.showLogin?n.a.createElement("div",{className:"login-popup"},n.a.createElement("h5",null,this.props.message),n.a.createElement("p",null,"Don't have an account?  ",n.a.createElement(y.a,{className:"inline-link",to:"/register"},"Register")," now."),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email Address",value:this.props.email,name:"email",id:"email",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",value:this.props.password,name:"password",id:"password",onChange:this.props.handleOnChange})),n.a.createElement("button",{type:"submit",className:"btn navbutton",onClick:this.props.handleLoginFormSubmit},"Log In"),"\xa0",n.a.createElement("button",{type:"submit",className:"btn navbutton",onClick:this.props.handleLoginClose},"Close"),n.a.createElement("p",{className:"login-message"},this.props.failedLoginAttempts>0?"Incorrect email or password.":""))):n.a.createElement("span",null," ")}}]),t}(n.a.Component)),E=(a(45),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",{className:"error-404Header"},"404 Error"),n.a.createElement("h2",{className:"error-404Body"},"If at first you don't succeed,",n.a.createElement("br",null),"dust yourself off and try again!",n.a.createElement("br",null),n.a.createElement("br",null),"(You can dust it off and try again, try again)"))}}]),t}(n.a.Component)),b=(a(46),a(47),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},this.props.children)}}]),t}(n.a.Component)),N=(a(48),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",null,this.props.heading)),n.a.createElement("div",{className:"card-body"},this.props.children))}}]),t}(n.a.Component)),C=(a(49),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",value:this.props.firstName,name:"firstName",id:"firstName",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",value:this.props.lastName,name:"lastName",id:"lastName",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email Address",value:this.props.email,name:"email",id:"email",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",value:this.props.password,name:"password",id:"password",onChange:this.props.handleOnChange})),n.a.createElement("button",{type:"submit",className:"btn btn-style",onClick:this.props.handleRegisterFormSubmit},"Register!"))}}]),t}(n.a.Component)),O=a(11),T=a.n(O),j={registerUser:function(e){return T.a.post("/api/user",e)},authenticateUser:function(e){return T.a.post("/api/user/login",e)},getUserDetails:function(e){return T.a.get("/api/user/"+e)},addCategory:function(e){return T.a.post("/api/category",e)},getCategories:function(){return T.a.get("/api/category")},getCategoryMatch:function(e){return T.a.get("/api/category/"+e)},addGoal:function(e){return T.a.post("/api/goal",e)},getGoalsInCategory:function(e){return T.a.get("/api/goal/cat/"+e)},getGoalMatch:function(e){return T.a.get("/api/goal/"+e)},addTask:function(e){return T.a.post("/api/task",e)},getTasksInGoal:function(e){return T.a.get("/api/task/"+e)},addUserGoal:function(e){return T.a.post("/api/usergoal",e)},addTimeline:function(e){return T.a.post("/api/tasktimeline",e)},deleteTimeline:function(e){return T.a.delete("/api/tasktimeline/"+e)},email:function(e){return T.a.post("/api/email/",e)},getTaskTimeline:function(e,t){return T.a.get("/api/tasktimeline/task/"+e+"/"+t)},updateGoalPercent:function(e,t){return T.a.put("/api/usergoal//goalpercent/"+e+"/"+t)}},I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){a.props.loginClose()},a.handleRegisterFormSubmit=function(e){e.preventDefault(),console.log("submit clicked");var t={firstName:a.props.firstName,lastName:a.props.lastName,email:a.props.email,password:a.props.password};j.registerUser(t).then(function(e){console.log(e);var t=e.data._id;console.log(t),a.props.setUserSession(t);var r={user_email:a.props.email};j.email(r).then(function(e){a.props.history.goBack()})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(b,null,n.a.createElement(N,{heading:"Register"},n.a.createElement(C,{firstName:this.props.firstName,lastName:this.props.lastName,email:this.props.email,password:this.props.password,handleOnChange:this.props.handleOnChange,handleRegisterFormSubmit:this.handleRegisterFormSubmit}))))}}]),t}(n.a.Component);a(68);var w=function(e){return n.a.createElement("div",{className:"hero text-center",style:{backgroundImage:"url(".concat(e.backgroundImage,")")}},e.children,n.a.createElement("p",{className:"heroCopy"},"keep it together"))},D=a(16),S=a(14),G=(a(69),a(17)),L=a(21),x=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement(D.a,{className:"homeCardRow"},this.props.categories.map(function(e){return n.a.createElement(S.a,{key:e._id},n.a.createElement(G.a,{className:"homeCard",style:{width:"18rem"}},n.a.createElement(G.a.Img,{className:"homeCardImg",variant:"top",src:e.categoryImgSrc}),n.a.createElement(G.a.Body,{className:"homeCardBody"},n.a.createElement(G.a.Title,{className:"cardTitle"},e.categoryName),n.a.createElement(G.a.Text,{className:"homeCardCopy"},e.categoryTagline),n.a.createElement(y.a,{className:"inline-link",to:"/addgoal?categoryId="+e._id},n.a.createElement(L.a,{className:"homeCardButton"},"add goal")))))}))}}]),t}(r.Component);a(70);var F=function(){return n.a.createElement("footer",{className:"footerHome"},n.a.createElement("p",{className:"footerCopy"},"Follow Us"),n.a.createElement("i",{className:"fab fa-facebook fa-3x"}),n.a.createElement("i",{className:"fab fa-twitter fa-3x"}),n.a.createElement("i",{className:"fab fa-github fa-3x"}),n.a.createElement("i",{className:"fab fa-pinterest fa-3x"}),n.a.createElement("i",{className:"fab fa-instagram fa-3x"}),n.a.createElement("p",null,"\xa92019 Keep It Together, Inc."))},z=(a(71),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(w,{backgroundImage:"images/heroImage.png"}),n.a.createElement("div",{className:"heroImgDiv"},n.a.createElement("img",{src:"images/rockToss.gif",className:"heroImg",alt:""})),n.a.createElement("h1",{className:"aboutUsHeader"},"Adulting is hard."),n.a.createElement("p",{className:"aboutUsCopy"},"There's no real guidebook on how to do it right and worst of all, thanks to social media, we all believe that everyone seems to have it all together except for ourselves."),n.a.createElement(D.a,{className:"rowInfoCards"},n.a.createElement(S.a,{className:"infoCardCol"},n.a.createElement("img",{src:"images/bossYell.jpg",alt:"",className:"infoCardImg"}),n.a.createElement("h1",{className:"infoCardHeading"},"our mission"),n.a.createElement("p",null,"Keep It Together was designed to help you build good habits without stressing you out.")),n.a.createElement(S.a,{className:"infoCardCol"},n.a.createElement("img",{src:"images/sadBirthday.jpg",alt:"",className:"infoCardImg"}),n.a.createElement("h1",{className:"infoCardHeading"},"simple ",n.a.createElement("br",null),"& fast"),n.a.createElement("p",null,"Easily keep track of your goals, add new ones and level up with each goal completion.")),n.a.createElement(S.a,{className:"infoCardCol"},n.a.createElement("img",{src:"images/dudeWithShitTogether.jpg",alt:"",className:"infoCardImg"}),n.a.createElement("h1",{className:"infoCardHeading"},"the bigger picture"),n.a.createElement("p",null,"Our visualizer helps you spot trends ranging days and weeks so you will be well on your way to being an adult in no time."))),n.a.createElement(D.a,{className:"getStartedRow"},n.a.createElement(S.a,null,n.a.createElement("h1",{className:"getStartedHeader"},"Let's get started"),n.a.createElement("p",{className:"getStartedBody"},"Pick your difficulty level",n.a.createElement("br",null)," and we'll walk you through the rest."))),n.a.createElement(D.a,{className:"rowAbout"},n.a.createElement(x,{categories:this.props.categories})),n.a.createElement(F,null))}}]),t}(n.a.Component)),A=(a(72),a(32)),Y=a(35),_=function(e){var t=e.goalPercent;return n.a.createElement(Y.a,{variant:"success",now:t})},M=(a(73),function(e){var t=e.goalName,a=e.goalPercent;return n.a.createElement("div",{className:"user-goal-card"},n.a.createElement("div",{className:"user-goal-card-header"},n.a.createElement("h5",{className:"userGoalCardHeader"},t)),n.a.createElement("div",{className:"user-goal-card-body"},n.a.createElement(_,{goalPercent:a}),n.a.createElement("br",null),n.a.createElement(y.a,{to:"/progress"},n.a.createElement(L.a,{variant:"primary"},"See Tasks"))))}),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement(A.a,null,n.a.createElement(D.a,{className:"userGoalRow"},n.a.createElement(S.a,{size:"md-12 col-auto",className:"userGoalCol"},n.a.createElement("h2",{className:"manageH2"},"Active\xa0Goals"),n.a.createElement("div",{className:"userGoalDiv"},this.props.userGoals?this.props.userGoals.filter(function(e){return 100!==e.goalPercent}).map(function(e){return n.a.createElement(M,{id:e.userGoalId,key:e.userGoalId,goalName:e.goalName,taskName:e.taskName,goalPercent:e.goalPercent})}):n.a.createElement("span",null,"No\xa0goals\xa0in\xa0this\xa0section.")))),n.a.createElement(D.a,{className:"userGoalRow",size:"md-12"},n.a.createElement(S.a,{size:"md-12 col-auto",className:"userGoalCol"},n.a.createElement("h2",{className:"manageH2"},"Achieved Goals"),n.a.createElement("div",{className:"userGoalDiv"},this.props.userGoals?this.props.userGoals.filter(function(e){return 100===e.goalPercent}).map(function(e){return n.a.createElement(M,{id:e.userGoalId,key:e.userGoalId,goalName:e.goalName,goalPercent:e.goalPercent})}):n.a.createElement("span",null,"No\xa0goals\xa0in\xa0this\xa0section.")))))}}]),t}(n.a.Component),U=(a(74),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){""===a.props.categoryId&&a.props.getCategories()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,""===this.props.categoryId?n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"categoryId",className:"selectCategory"},"Select Category"),n.a.createElement("select",{className:"form-control",id:"categoryId",name:"categoryId",onChange:this.props.handleOnChange,value:this.props.categoryId},n.a.createElement("option",{hidden:!0,selected:!0},"-- Select a Category --"),this.props.categories.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.categoryName)})))):n.a.createElement("div",{className:"categoryNameTag"},n.a.createElement("span",{className:"categoryName"},this.props.selectedCategory.categoryName," "),"|",n.a.createElement("span",{className:"categoryTag"},this.props.selectedCategory.categoryTagLine),n.a.createElement("p",{className:"changeCategoryButton"},n.a.createElement("button",{type:"submit",className:"btn navbutton",onClick:this.props.clearCategory},"Change Category"))))}}]),t}(n.a.Component)),V=(a(75),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"jumbotron instructions"},""===this.props.instructionsHeading?"":n.a.createElement("h4",{className:"instructionsHeading"},this.props.instructionsHeading),n.a.createElement("p",{className:"instructionsBody"},this.props.instructionsText))}}]),t}(n.a.Component)),H=(a(76),function(e){var t=e.selectGoal,a=e.goalName,r=e.goalTagline,o=e.id;return n.a.createElement("div",{className:"goal-card",onClick:function(){return t(o)}},n.a.createElement("div",{className:"goal-card-header"},n.a.createElement("h5",{className:"goalCardHeader"},a)),n.a.createElement("div",{className:"goal-card-body"},r))}),R=(a(77),a(78),a(79),function(e){var t=e.taskName,a=e.streakTarget,r=e.totalTarget,o=e.id;return n.a.createElement("tr",{id:o,key:o,className:"taskItemRow"},n.a.createElement("td",{className:"taskName"},t),n.a.createElement("td",{className:"streakTarget"},a),n.a.createElement("td",{className:"totalTarget"},r))}),B=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("thead",{className:"taskListHead"},n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("br",null),"Task Name"),n.a.createElement("td",null,"Streak",n.a.createElement("br",null),"Target"),n.a.createElement("td",null,"Total",n.a.createElement("br",null),"Target"))),n.a.createElement("tbody",null,this.props.tasks.map(function(e){return n.a.createElement(R,{taskName:e.taskName,streakTarget:e.streakTarget,totalTarget:e.totalTarget,id:e._id,key:e._id})}))))}}]),t}(n.a.Component),K=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.showTaskOverlay?n.a.createElement("div",{className:"task-overlay"},n.a.createElement("h4",null,"Goal: ",this.props.selectedGoal.goalName),n.a.createElement(B,{key:"TaskList",tasks:this.props.tasks}),n.a.createElement("hr",null),n.a.createElement("button",{type:"submit",className:"btn btn-style",onClick:this.props.handleAddGoalFormSubmit},"Let's Go!"),"\xa0",n.a.createElement("button",{type:"submit",className:"btn btn-style",onClick:function(){return e.props.taskOverlayClose()}},"Close")):n.a.createElement("span",null," ")}}]),t}(n.a.Component),J=(a(80),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.showOkDialog?n.a.createElement("div",{className:"okdialog-popup"},n.a.createElement("p",null,this.props.okDialogText),n.a.createElement("button",{type:"submit",className:"btn navbutton btn-okdialog",id:"btn-okdialog","redirect-location":this.props.okDialogLink},"OK")):n.a.createElement("span",null)}}]),t}(n.a.Component)),W=(a(81),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e=a.props.location.search;if(e){var t=e.split("=");console.log(t),a.props.getCategoryMatch(t[1]),a.props.getGoalsInCategory(t[1])}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"add-goal"},n.a.createElement(b,null,n.a.createElement(U,{handleOnChange:this.props.handleOnChange,categoryId:this.props.categoryId,getCategories:this.props.getCategories,categories:this.props.categories,selectedCategory:this.props.selectedCategory,clearCategory:this.props.clearCategory}),n.a.createElement(V,{instructionsHeading:"Instructions",instructionsText:"Select a goal.  Our personal coaching monkeys will select a list of activities for you to achieve your goal.  To complete a goal, you will need to successfully complete each of the tasks associated with the goal.  You complete each activity by either getting streak of consecutive days OR doing that activity a total number of times."}),n.a.createElement("div",{className:"goalCardContainer"},this.props.goals.length>0?this.props.goals.map(function(t){return n.a.createElement(H,{id:t._id,key:t._id,goalName:t.goalName,goalTagline:t.goalTagline,selectGoal:e.props.selectGoal})}):n.a.createElement("span",null,"No goals in this category.")),n.a.createElement("div",null,n.a.createElement(K,{showTaskOverlay:this.props.showTaskOverlay,selectedGoal:this.props.selectedGoal,tasks:this.props.tasks,handleAddGoalFormSubmit:this.props.handleAddGoalFormSubmit,taskOverlayClose:this.props.taskOverlayClose})),n.a.createElement("div",null,n.a.createElement(J,{showOkDialog:this.props.showOkDialog,okDialogText:"Congratulations!  You took another step towards being less of a garbage person!  But seriously, you got this!",okDialogLink:"/manage"}))))}}]),t}(n.a.Component)),q=(a(82),a(33)),Q=(a(83),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(q.a,{responsive:"lg"},n.a.createElement(X,{key:"viz-header",visualizerDates:this.props.visualizerDates,changeVisualizerDates:this.props.changeVisualizerDates}),this.props.visualizerData.map(function(t){return n.a.createElement(Z,{key:t.userGoalId,goalData:t,handleCompleteTask:e.props.handleCompleteTask,handleIncompleteTask:e.props.handleIncompleteTask})})))}}]),t}(n.a.Component)),X=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,"\xa0"),n.a.createElement("td",{onClick:function(){return e.props.changeVisualizerDates(-1)}},n.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"})),this.props.visualizerDates.map(function(e){return n.a.createElement("td",{className:"date-heading",key:e},e)}),n.a.createElement("td",{onClick:function(){return e.props.changeVisualizerDates(1)}},n.a.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true"})),n.a.createElement("td",null,"CURR"),n.a.createElement("td",null,"LONG"),n.a.createElement("td",null,"TOTAL")))}}]),t}(n.a.Component),Z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("tbody",null,n.a.createElement("tr",{className:"goal-row"},n.a.createElement("td",{colSpan:"13"},this.props.goalData.goalName," | ",this.props.goalData.goalPercent,"% Complete")),this.props.goalData.userTasks.map(function(t){return n.a.createElement($,{currentStreak:t.taskCurrentStreak,key:t._id,taskData:t,userGoalId:e.props.goalData.userGoalId,handleCompleteTask:e.props.handleCompleteTask,handleIncompleteTask:e.props.handleIncompleteTask})}))}}]),t}(n.a.Component),$=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("tr",{key:this.props.key,className:this.props.taskData.taskCompleteYN?"task-goal-met":"task-goal-unmet"},n.a.createElement("td",{className:"taskName"},this.props.taskData.taskCompleteYN?n.a.createElement("i",{class:"fa fa-check","aria-hidden":"true"},"\xa0"):n.a.createElement("span",null,"\xa0"),this.props.taskData.taskName),n.a.createElement("td",null,"\xa0"),this.props.taskData.userTimeline.map(function(t){return n.a.createElement(ee,{key:t.timelineDate+"_"+e.props.taskData.taskId,id:t.timelineDate+"_"+e.props.taskData.taskId,taskId:e.props.taskData.taskId,userGoalId:e.props.userGoalId,dateData:t,handleCompleteTask:e.props.handleCompleteTask,handleIncompleteTask:e.props.handleIncompleteTask})}),n.a.createElement("td",null,"\xa0"),n.a.createElement("td",null,this.props.currentStreak),n.a.createElement("td",null,this.props.taskData.taskLongStreak,"/",this.props.taskData.taskStreakTarget),n.a.createElement("td",null,this.props.taskData.taskTotalCompleted,"/",this.props.taskData.taskTotalTarget))}}]),t}(n.a.Component),ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("td",{className:"date-item"},this.props.dateData.taskCompletedYN?n.a.createElement("div",{className:"task-complete",onClick:function(){return e.props.handleIncompleteTask(e.props.dateData.timelineId)}},"\xa0"):n.a.createElement("div",{className:"task-incomplete",onClick:function(){return e.props.handleCompleteTask(e.props.taskId,e.props.userGoalId,e.props.dateData.timelineDate)}},"\xa0"))}}]),t}(n.a.Component),te=Q,ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"visualizerDiv"},n.a.createElement("h1",{className:"visualizerH1"},"Visualize Your Progress"),n.a.createElement("h2",{className:"visualizerH2"},"Mark your progress on the dates you've completed the task."),n.a.createElement(te,{visualizerData:this.props.visualizerData,visualizerDates:this.props.visualizerDates,changeVisualizerDates:this.props.changeVisualizerDates,handleCompleteTask:this.props.handleCompleteTask,handleIncompleteTask:this.props.handleIncompleteTask}))}}]),t}(n.a.Component),re=(a(84),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"categoryName"},"Category Name"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Category Name",value:this.props.categoryName,name:"categoryName",id:"categoryName",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"categoryTagLine"},"Category Tag Line"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Category Tag Line",value:this.props.categoryTagLine,name:"categoryTagLine",id:"categoryTagLine",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"categoryImgSrc"},"Category Image Source"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Category Image Source",value:this.props.categoryImgSrc,name:"categoryImgSrc",id:"categoryImgSrc",onChange:this.props.handleOnChange})),n.a.createElement("button",{type:"submit",className:"btn btn-style",onClick:this.props.handleCategoryFormSubmit},"Add Category!"))}}]),t}(n.a.Component)),ne=(a(85),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"categoryId"},"Select Category"),n.a.createElement("select",{className:"form-control",id:"categoryId",name:"categoryId",onChange:this.props.handleOnChange,value:this.props.categoryId},n.a.createElement("option",{hidden:!0,selected:!0},"-- Select a Category --"),this.props.categories.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.categoryName," |  ",e.categoryTagLine)}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"goalName"},"Goal Name"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Goal Name",value:this.props.goalName,name:"goalName",id:"goalName",onChange:this.props.handleOnChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"goalTagline"},"Goal Tagline"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Goal Tagline",value:this.props.goalTagline,name:"goalTagline",id:"goalTagline",onChange:this.props.handleOnChange})),n.a.createElement("button",{type:"submit",className:"btn btn-style",onClick:this.props.handleGoalFormSubmit},"Add Goal!"))}}]),t}(n.a.Component)),oe=(a(86),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"goalId"},"Select Goal"),n.a.createElement("select",{className:"form-control",id:"goalId",name:"goalId",onChange:this.props.handleOnChange,value:this.props.goalId},n.a.createElement("option",{hidden:!0,selected:!0},"-- Select a Goal --"),this.props.goals.map(function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.goalName)}))),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"taskListTd"},"Task Name"),n.a.createElement("td",{className:"taskListTd streakTarget"},"Streak Target (# times consecutively)"),n.a.createElement("td",{className:"taskListTd totalTarget"},"Total Target (# times in total)"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"taskName"},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Task Name",value:this.props.taskName,name:"taskName",id:"taskName",onChange:this.props.handleOnChange}))),n.a.createElement("td",{className:"streakTarget"},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"number",className:"form-control",placeholder:"# Consecutive",value:this.props.streakTarget,name:"streakTarget",id:"streakTarget",onChange:this.props.handleOnChange}))),n.a.createElement("td",{className:"totalTarget"},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"number",className:"form-control",placeholder:"# Total",value:this.props.totalTarget,name:"totalTarget",id:"totalTarget",onChange:this.props.handleOnChange})))),n.a.createElement("tr",null,n.a.createElement("td",{colspan:"3"},n.a.createElement("button",{type:"submit",className:"btn btn-style",onClick:this.props.handleTaskFormSubmit},"Add Task!"))))))}}]),t}(n.a.Component)),se=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(b,null,n.a.createElement("h1",null,"Administration"),n.a.createElement(N,{heading:"Add A Category"},n.a.createElement(re,{categoryName:this.props.categoryName,categoryTagLine:this.props.categoryTagLine,categoryImgSrc:this.props.categoryImgSrc,handleOnChange:this.props.handleOnChange,handleCategoryFormSubmit:this.props.handleCategoryFormSubmit})),n.a.createElement("hr",null),n.a.createElement(N,{heading:"Add A Goal"},n.a.createElement(ne,{categoryId:this.props.categoryId,goalName:this.props.goalName,categories:this.props.categories,handleOnChange:this.props.handleOnChange,handleGoalFormSubmit:this.props.handleGoalFormSubmit})),n.a.createElement("hr",null),n.a.createElement(N,{heading:"Add a TaskList Item"},n.a.createElement(oe,{goalId:this.props.goalId,goals:this.props.goals,taskName:this.props.taskName,weeklyTarget:this.props.weeklyTarget,totalTarget:this.props.totalTarget,handleOnChange:this.props.handleOnChange,handleTaskFormSubmit:this.props.handleTaskFormSubmit}),n.a.createElement(B,{tasks:this.props.tasks}))))}}]),t}(n.a.Component);function le(){le=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(w){i=function(e,t,a){return e[t]=a}}function c(e,t,a,n){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),l=new T(n||[]);return r(s,"_invoke",{value:b(e,a,l)}),s}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(w){return{type:"throw",arg:w}}}e.wrap=c;var u={};function g(){}function p(){}function h(){}var d={};i(d,o,function(){return this});var f=Object.getPrototypeOf,y=f&&f(f(j([])));y&&y!==t&&a.call(y,o)&&(d=y);var v=h.prototype=g.prototype=Object.create(d);function k(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;r(this,"_invoke",{value:function(r,o){function s(){return new t(function(n,s){!function r(n,o,s,l){var i=m(e[n],e,o);if("throw"!==i.type){var c=i.arg,u=c.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(u).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(i.arg)}(r,o,n,s)})}return n=n?n.then(s,s):s()}})}function b(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return I()}for(a.method=n,a.arg=o;;){var s=a.delegate;if(s){var l=N(s,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=m(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function N(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),u;var n=m(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=i(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},k(E.prototype),i(E.prototype,s,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var s=new E(c(t,a,r,n),o);return e.isGeneratorFunction(a)?s:s.next().then(function(e){return e.done?e.value:s.next()})},k(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return s.type="throw",s.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var ie=a(87),ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",lastName:"",email:"",password:"",categoryName:"",categoryTagLine:"",categoryImgSrc:"",categories:[],selectedCategory:{},categoryId:"",goalName:"",goalTagline:"",goalId:"",goals:[],selectedGoal:{},taskName:"",tasks:[],userDetails:{},streakTarget:"7",totalTarget:"7",isAuthenticated:!1,showLogin:!1,failedLoginAttempts:0,showTaskOverlay:!1,showOkDialog:!1,loginMessage:"Log in or register to enhance your experience!",visualizerDates:[],visualizerData:[],numVisualizerDays:7,userGoals:[]},a.componentDidMount=function(){a.resetState();var e=localStorage.getItem("userKey");e&&a.getUserDetails(e)},a.resetState=function(){a.setState({firstName:"",lastName:"",email:"",password:"",categoryName:"",categoryTagLine:"",categoryImgSrc:"",categories:[],selectedCategory:{},categoryId:"",goalName:"",goalTagline:"",goalId:"",goals:[],selectedGoal:{},taskName:"",tasks:[],userDetails:{},streakTarget:"7",totalTarget:"7",isAuthenticated:!1,showLogin:!1,failedLoginAttempts:0,showTaskOverlay:!1,numVisualizerDays:7,visualizerDates:[],visualizerData:[],userGoals:[]}),a.getCategories();var e=ie().startOf("day").format("M/D/YYYY"),t=ie(e).subtract(a.state.numVisualizerDays-1,"days");a.resetVisualizerDates(t,a.state.numVisualizerDays)},a.resetVisualizerDates=function(e,t){for(var r=[],n=0;n<t;n++){var o=ie(e).add(n,"days").format("M/D/YYYY").toString();r.push(o)}a.setState({visualizerDates:r})},a.changeVisualizerDates=function(e){var t=ie(a.state.visualizerDates[0]).add(e,"days"),r=ie().startOf("day").format("M/D/YYYY");ie(r).subtract(a.state.numVisualizerDays-1,"days")<ie(a.state.visualizerDates[0]).add(e,"days")&&(t=ie(r).subtract(a.state.numVisualizerDays-1,"days")),a.resetVisualizerDates(t,a.state.numVisualizerDays),a.getUserDetails(localStorage.getItem("userKey"))},a.handleOnChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value)),"categoryId"===e.target.name&&(a.getGoalsInCategory(e.target.value),a.getCategoryMatch(e.target.value)),"goalId"===e.target.name&&a.getTasksInGoal(e.target.value)},a.handleCompleteTask=function(e,t,r){var n={taskId:e,userGoalId:t,taskDate:r,taskCompletedYN:!0};j.addTimeline(n).then(function(e){a.getUserDetails(localStorage.getItem("userKey"))}).catch(function(e){console.log(e)})},a.handleIncompleteTask=function(e){j.deleteTimeline(e).then(function(e){a.getUserDetails(localStorage.getItem("userKey"))}).catch(function(e){console.log(e)})},a.handleLoginFormSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};j.authenticateUser(t).then(function(e){var t=e.data;if(0===t.length){console.log("login failed");var r=a.state.failedLoginAttempts+1;a.setState({failedLoginAttempts:r,email:"",password:"",isAuthenticated:!1})}else 1===t.length?(a.setState({loginMessage:"",firstName:t[0].firstName,lastName:t[0].lastName,email:t[0].email}),a.setUserSession(t[0]._id),a.getUserDetails(t[0]._id),a.setupUserGoals(a.state.userGoals)):console.log("WTF??!  How did you get more than 1??")}).catch(function(e){console.log(e)})},a.handleCategoryFormSubmit=function(e){e.preventDefault();var t={categoryName:a.state.categoryName,categoryTagLine:a.state.categoryTagLine,categoryImgSrc:a.state.categoryImgSrc};j.addCategory(t).then(function(e){a.getCategories()}).catch(function(e){console.log(e)})},a.handleTaskFormSubmit=function(e){e.preventDefault();var t={goalId:a.state.goalId,taskName:a.state.taskName,streakTarget:parseInt(a.state.streakTarget),totalTarget:parseInt(a.state.totalTarget)};j.addTask(t).then(function(e){a.getTasksInGoal(a.state.goalId)}).catch(function(e){console.log(e)})},a.handleAddGoalFormSubmit=function(e){e.preventDefault();var t=localStorage.getItem("userKey");if(t){var r={userId:t,goalId:a.state.selectedGoal._id};j.addUserGoal(r).then(function(e){}).catch(function(e){console.log(e)}),a.setState({showTaskOverlay:!1,showOkDialog:!0})}else a.setState({showLogin:!0})},a.handleGoalFormSubmit=function(e){e.preventDefault();var t={categoryId:a.state.categoryId,goalName:a.state.goalName,goalTagline:a.state.goalTagline};j.addGoal(t).then(function(e){a.getGoalsInCategory(a.state.categoryId)}).catch(function(e){console.log(e)})},a.getCategories=function(){j.getCategories().then(function(e){a.setState({categories:e.data})})},a.getCategoryMatch=function(e){j.getCategoryMatch(e).then(function(t){a.setState({selectedCategory:t.data[0],categoryId:e})})},a.getGoalsInCategory=function(e){j.getGoalsInCategory(e).then(function(e){a.setState({goals:e.data})})},a.getGoalMatch=function(e){j.getGoalMatch(e).then(function(e){a.setState({selectedGoal:e.data[0]})})},a.getTasksInGoal=function(e){j.getTasksInGoal(e).then(function(e){a.setState({tasks:e.data})})},a.getUserDetails=function(e){j.getUserDetails(e).then(function(t){var r=t.data;a.setState({loginMessage:"",userId:e,firstName:r.firstName,lastName:r.lastName,email:r.email,isAuthenticated:!0,userDetails:r,userGoals:r.userGoals}),a.setupUserGoals(r)})},a.setupUserGoals=function(e){for(var t=[],r=e.userGoals,n=0;n<r.length;n++){for(var o=r[n]._id,s=r[n].goalId._id,l=r[n].goalId.goalName,i=r[n].goalPercent,c=[],m=r[n].goalId.tasks,u=0;u<m.length;u++){for(var g=[],p=e.userGoals[n].taskTimelines,h=0;h<a.state.visualizerDates.length;h++){for(var d=a.state.visualizerDates[h],f=!1,y="null",v=0;v<p.length;v++)ie.utc(p[v].taskDate).format("M/D/YYYY")===ie.utc(d).format("M/D/YYYY")&&p[v].taskId===m[u]._id&&(f=p[v].taskCompletedYN,y=p[v]._id);var k={timelineId:y,timelineDate:ie(d).format("M/D/YYYY"),taskCompletedYN:f};g.push(k)}var E={taskId:m[u]._id,taskName:m[u].taskName,taskStreakTarget:m[u].streakTarget,taskTotalTarget:m[u].totalTarget,taskCurrentStreak:0,taskLongStreak:0,taskTotalCompleted:0,taskCompleteYN:!1,userTimeline:g};c.push(E)}var b={userGoalId:o,goalId:s,goalName:l,goalPercent:i,userTasks:c};t.push(b)}a.calculateProgress(t)},a.calculateProgress=function(){var e=Object(l.a)(le().mark(function e(t){var r,n;return le().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=le().mark(function e(a){var r,n,o,s,l;return le().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n=0,o=0,s=le().mark(function e(o){var s,l,i,c,m;return le().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r++,s=t[a].userGoalId,l=t[a].userTasks[o].taskId,i=!1,c=t[a].userTasks[o].taskStreakTarget,m=t[a].userTasks[o].taskTotalTarget,e.next=8,j.getTaskTimeline(l,s).then(function(e){var r=0,s=0,l=0,u=e.data;if(u.length>0)for(var g=ie(u[0].taskDate),p=ie().startOf("day").diff(g,"days")+1,h=0,d=u.length-1,f=0;f<p;f++){ie(g).add(f,"days").format("M/D/YYYY").toString()===ie(u[h].taskDate).format("M/D/YYYY").toString()?(u[h].taskCompletedYN?(++r>s&&(s=r),l++):r=0,h<d&&h++):r=0}(s>=c||l>=m)&&(i=!0,n++),t[a].userTasks[o].taskCurrentStreak=r,t[a].userTasks[o].taskLongStreak=s,t[a].userTasks[o].taskTotalCompleted=l,t[a].userTasks[o].taskCompleteYN=i});case 8:case"end":return e.stop()}},e)}),l=0;case 5:if(!(l<t[a].userTasks.length)){e.next=10;break}return e.delegateYield(s(l),"t0",7);case 7:l++,e.next=5;break;case 10:return o=0===r?100:Math.floor(100*n/r),t[a].goalPercent=o,e.next=14,j.updateGoalPercent(t[a].userGoalId,o).then(function(e){e.data}).catch(function(e){return console.log(e)});case 14:case"end":return e.stop()}},e)}),n=0;case 2:if(!(n<t.length)){e.next=7;break}return e.delegateYield(r(n),"t0",4);case 4:n++,e.next=2;break;case 7:a.setState({visualizerData:t});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.logoutClick=function(){localStorage.setItem("userKey",""),a.resetState()},a.loginClose=function(){a.setState({showLogin:!1})},a.loginClick=function(){a.setState({showLogin:!0})},a.markUserGoalComplete=function(){},a.taskOverlayClose=function(){a.setState({showTaskOverlay:!1})},a.setUserSession=function(e){localStorage.setItem("userKey",e),a.setState({isAuthenticated:!0,showLogin:!1})},a.selectGoal=function(e){a.getGoalMatch(e),a.getTasksInGoal(e),a.setState({showTaskOverlay:!0})},a.clearCategory=function(){a.setState({categoryId:"",selectedCategory:{},goals:[]})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(h.a,null,n.a.createElement("div",null,n.a.createElement(v,{isAuthenticated:this.state.isAuthenticated,handleLogout:this.logoutClick,handleLogin:this.loginClick,firstName:this.state.firstName}),n.a.createElement(k,{email:this.state.email,password:this.state.password,showLogin:this.state.showLogin,failedLoginAttempts:this.state.failedLoginAttempts,handleOnChange:this.handleOnChange,handleLoginFormSubmit:this.handleLoginFormSubmit,handleLoginClose:this.loginClose,message:this.state.loginMessage}),n.a.createElement(d.a,null,n.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return n.a.createElement(z,Object.assign({},t,{categories:e.state.categories,getCategoryMatch:e.getCategoryMatch}))}}),n.a.createElement(f.a,{exact:!0,path:"/register",render:function(t){return n.a.createElement(I,Object.assign({},t,{firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email,password:e.state.password,handleOnChange:e.handleOnChange,setUserSession:e.setUserSession,loginClose:e.loginClose}))}}),n.a.createElement(f.a,{exact:!0,path:"/addgoal",render:function(t){return n.a.createElement(W,Object.assign({},t,{categoryId:e.state.categoryId,selectedCategory:e.state.selectedCategory,handleOnChange:e.handleOnChange,getCategories:e.getCategories,categories:e.state.categories,goals:e.state.goals,selectGoal:e.selectGoal,showTaskOverlay:e.state.showTaskOverlay,selectedGoal:e.state.selectedGoal,tasks:e.state.tasks,getCategoryMatch:e.getCategoryMatch,getGoalsInCategory:e.getGoalsInCategory,taskOverlayClose:e.taskOverlayClose,handleAddGoalFormSubmit:e.handleAddGoalFormSubmit,showOkDialog:e.state.showOkDialog,clearCategory:e.clearCategory}))}}),n.a.createElement(f.a,{exact:!0,path:"/manage",render:function(t){return n.a.createElement(P,Object.assign({},t,{handleOnChange:e.handleOnChange,userGoals:e.state.visualizerData,getUserDetails:e.getUserDetails,selectGoal:e.selectGoal,showTaskOverlay:e.state.showTaskOverlay,selectedGoal:e.state.selectedGoal,tasks:e.state.tasks}))}}),n.a.createElement(f.a,{exact:!0,path:"/progress",render:function(t){return n.a.createElement(ae,Object.assign({},t,{visualizerDates:e.state.visualizerDates,visualizerData:e.state.visualizerData,changeVisualizerDates:e.changeVisualizerDates,handleCompleteTask:e.handleCompleteTask,handleIncompleteTask:e.handleIncompleteTask}))}}),n.a.createElement(f.a,{exact:!0,path:"/admin",render:function(t){return n.a.createElement(se,Object.assign({},t,{categoryId:e.state.categoryId,categoryName:e.state.categoryName,categoryTagLine:e.state.categoryTagLine,categoryImgSrc:e.state.categoryImgSrc,categories:e.state.categories,getCategories:e.getCategories,goalId:e.state.goalId,goals:e.state.goals,getGoalsInCategory:e.getGoalsInCategory,handleOnChange:e.handleOnChange,handleCategoryFormSubmit:e.handleCategoryFormSubmit,handleGoalFormSubmit:e.handleGoalFormSubmit,taskName:e.state.taskName,tasks:e.state.tasks,streakTarget:e.state.streakTarget,totalTarget:e.state.totalTarget,handleTaskFormSubmit:e.handleTaskFormSubmit}))}}),n.a.createElement(f.a,{component:E}))))}}]),t}(n.a.Component);s.a.render(n.a.createElement(ce,null),document.getElementById("root"))}]),[[36,1,2]]]);
//# sourceMappingURL=main.6017796b.chunk.js.map